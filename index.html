<!DOCTYPE HTML>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiMi - Logs</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --background-color: #1a1316;
            --text-color: #eae6e1;
            --accent-color: #e5b97f;
            --border-color: #2a2024;
        }

        :root.light-mode {
            --background-color: #f5f5f5;
            --text-color: #2a2024;
            --accent-color: #8b5a3c;
            --border-color: #d0d0d0;
        }

        :root.light-mode .topbar {
            background-color: #e0e0e0;
        }

        :root.light-mode .button {
            background-color: #f0f0f0;
            color: var(--text-color);
        }

        :root.light-mode .search-input {
            background-color: #ffffff;
        }

        :root.light-mode .footer {
            background-color: #e0e0e0;
            color: #666;
        }

        :root.light-mode .modal-window {
            background-color: var(--background-color);
            border-color: var(--border-color);
        }

        :root.light-mode .setting-btn {
            background-color: #f0f0f0;
            border-color: var(--border-color);
            color: var(--text-color);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: "Inter", sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .window {
            width: 800px;
            height: 600px;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            max-width: 95vw;
            max-height: 95vh;
        }

        .topbar {
            height: 40px;
            border-bottom: 1px solid var(--border-color);
            padding: 0 5px;
            align-items: center;
            display: flex;
            user-select: none;
            position: relative;
            background-color: #1e1619;
            justify-content: space-between;
        }

        .category-bar {
            height: 30px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            gap: 10px;
            padding: 0 15px;
            background-color: #1e1619;
            align-items: center;
        }

        .content-area {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .category-btn {
            font-size: 11px;
            color: #d8d3ce;
            background-color: transparent;
            border: 1px solid var(--border-color);
            padding: 4px 8px;
            cursor: pointer;
            transition: 0.2s ease;
        }

        .category-btn.active {
            background-color: var(--accent-color);
            color: var(--background-color);
        }

        .title {
            font-size: 12px;
            color: #d8d3ce;
            letter-spacing: 0.4px;
        }

        .search-container {
            flex: 1;
            margin: 0 10px;
        }

        .search-input {
            width: 100%;
            background-color: var(--background-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 4px 8px;
            font-size: 12px;
            font-family: inherit;
            outline: none;
        }

        .search-input:focus {
            border-color: var(--accent-color);
        }

        .buttons {
            display: flex;
            gap: 6px;
        }

        .button {
            font-size: 12px;
            color: #d8d3ce;
            background-color: #1e1619;
            border: 1px solid var(--border-color);
            padding: 3px 10px;
            cursor: pointer;
            text-decoration: none;
            transition: 0.2s ease;
        }

        .icon-btn {
            padding: 3px 6px;
        }

        .btn-icon {
            width: 14px;
            height: 14px;
        }

        .content {
            flex: 1;
            padding: 10px 15px;
            font-size: 13px;
            line-height: 1.6;
            overflow-y: auto;
        }

        .category {
            margin-bottom: 30px;
        }

        .category-title {
            color: var(--accent-color);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }

        .footer {
            height: 24px;
            border-top: 1px solid var(--border-color);
            padding: 0 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 10px;
            color: #7a7276;
            background-color: #1e1619;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }

        .week-logs {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .week-title {
            color: var(--accent-color);
            font-weight: 600;
            margin-bottom: 5px;
            cursor: pointer;
        }

        .week-date {
            font-size: 11px;
            color: #7a7276;
            margin-bottom: 8px;
        }

        .week-text {
            color: var(--text-color);
            white-space: pre-line;
        }

        .change-added {
            color: #4ade80;
        }

        .change-removed {
            color: #f87171;
        }

        .change-improved {
            color: #fbbf24;
        }

        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background-color: rgba(26, 19, 22, 0.85);
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .modal-window {
            width: 600px;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            background-color: var(--background-color);
        }

        .modal-topbar {
            height: 40px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5px;
        }

        .modal-nav {
            display: flex;
            gap: 5px;
        }

        .modal-title {
            font-size: 12px;
            color: var(--text-color);
            text-align: center;
            flex: 1;
        }

        .modal-content {
            padding: 10px;
            font-size: 13px;
            color: var(--text-color);
            white-space: pre-line;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .settings-tabs {
            display: flex;
            gap: 5px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        .tab-btn {
            padding: 6px 12px;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
            cursor: pointer;
            transition: 0.2s;
        }

        .tab-btn.active {
            background: var(--accent-color);
            color: var(--background-color);
        }

        .tab-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .tab-content.hidden {
            display: none;
        }

        .setting-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .setting-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #d8d3ce;
            background-color: #1e1619;
            border: 1px solid var(--border-color);
            padding: 8px 12px;
            cursor: pointer;
            transition: 0.2s ease;
            width: 100%;
            text-align: left;
        }

        .setting-btn:hover {
            background-color: #2a2024;
            border-color: var(--accent-color);
        }

        .setting-icon {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
        }

        .setting-desc {
            font-size: 10px;
            color: #7a7276;
            margin: 0;
            padding-left: 24px;
        }

        .close-button {
            font-size: 12px;
            color: var(--text-color);
            background-color: #1e1619;
            border: 1px solid var(--border-color);
            padding: 2px 6px;
            cursor: pointer;
        }

        .icon-close {
            width: 14px;
            height: 14px;
        }

        @media (max-width: 600px) {
            .window {
                width: 95vw;
                height: 90vh;
            }

            .topbar {
                flex-wrap: wrap;
                height: auto;
                padding: 5px;
            }

            .title {
                order: 1;
                flex: 1 0 100%;
                text-align: center;
                margin-bottom: 5px;
            }

            .search-container {
                order: 2;
                flex: 1;
                margin: 0 5px;
            }

            .buttons {
                order: 3;
                flex-wrap: wrap;
                gap: 3px;
            }

            .button {
                font-size: 10px;
                padding: 2px 5px;
            }

            .footer {
                font-size: 9px;
                padding: 0 5px;
                height: 20px;
            }

            .modal-window {
                width: 90vw;
                max-height: 80vh;
            }

            .modal-content {
                gap: 10px;
            }

            .setting-btn {
                padding: 6px 8px;
                font-size: 11px;
            }

            .setting-desc {
                font-size: 9px;
                padding-left: 20px;
            }

            .category-bar {
                padding: 0 5px;
                gap: 5px;
            }

            .category-btn {
                font-size: 9px;
                padding: 2px 4px;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <main class="window">
        <header class="topbar">
            <div class="title"># Weekly Logs</div>

            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search logs..." id="search-input">
            </div>

            <div class="buttons">
                <button class="button icon-btn" id="settings-btn">
                    <i data-lucide="settings" class="btn-icon"></i>
                </button>
                <a href="index.html" class="button">&lt;-</a>
            </div>
        </header>

        <div class="category-bar">
            <button class="category-btn active" data-category="all">All</button>
            <button class="category-btn" data-category="v1">Version 1.0</button>
            <button class="category-btn" data-category="v2">Version 2.0</button>
        </div>

        <div class="content-area">
            <main class="content">
                <article class="week-logs category-v1" data-full="Version 1.0 Release - Initial Features">
                    <div class="week-title">Version 1.0 Release</div>
                    <div class="week-date">15/11/2025</div>

                    <div class="week-text">
                        <span class="change-added">+ Added basic HTML structure with dark theme</span><br>
                        <span class="change-added">+ Implemented modal for viewing full logs</span><br>
                        <span class="change-added">+ Added search functionality</span><br>
                        <span class="change-added">+ Created export feature for logs</span><br>
                        <span class="change-added">+ Basic responsive design</span>
                    </div>
                </article>

                <article class="week-logs category-v2" data-full="Version 2.0 Release - Major Improvements">
                    <div class="week-title">Version 2.0 Release</div>
                    <div class="week-date">20/12/2025</div>

                    <div class="week-text">
                        <span class="change-added">+ Semantic HTML elements (header, main, article, footer)</span><br>
                        <span class="change-added">+ Settings modal for better UI</span><br>
                        <span class="change-improved">* Improved scrollbar styling</span><br>
                        <span class="change-improved">* Enhanced mobile responsiveness</span><br>
                        <span class="change-added">+ Category-based log organization</span><br>
                        <span class="change-added">+ Light/dark mode toggle</span><br>
                        <span class="change-removed">- Removed rounded corners for sharper look</span>
                    </div>
                </article>
            </main>

        </div>

        <footer class="footer">
            <span>Version 2.0</span>
            <span>ID: X0X0</span>
        </footer>
    </main>

    <div class="modal" id="weekly-modal">
        <div class="modal-window">
            <div class="modal-topbar">
                <div class="modal-nav">
                    <button class="close-button" id="prev-log">&lt;</button>
                    <button class="close-button" id="next-log">&gt;</button>
                </div>
                <div class="modal-title" id="modal-title"># Weekly Log</div>
                <div class="close-button" id="close-modal">x</div>
            </div>

            <div class="modal-content" id="modal-content"></div>
        </div>
    </div>

    <div class="modal" id="settings-modal">
        <div class="modal-window">
            <div class="modal-topbar">
                <div class="modal-title"># Settings</div>
                <div class="close-button" id="close-settings">
                    <i data-lucide="x" class="icon-close"></i>
                </div>
            </div>

            <div class="modal-content">
                <div class="settings-tabs">
                    <button class="tab-btn active" data-tab="general">General</button>
                    <button class="tab-btn" data-tab="export">Export</button>
                    <button class="tab-btn" data-tab="appearance">Appearance</button>
                </div>

                <div class="tab-content" id="general-tab">
                    <div class="setting-item">
                        <button class="setting-btn" id="sort-date">
                            <i data-lucide="calendar" class="setting-icon"></i>
                            <span>Sort by Date</span>
                        </button>
                        <p class="setting-desc">Reorder logs from newest to oldest</p>
                    </div>
                </div>

                <div class="tab-content hidden" id="export-tab">
                    <div class="setting-item">
                        <button class="setting-btn" id="export-txt">
                            <i data-lucide="file-text" class="setting-icon"></i>
                            <span>Export as TXT</span>
                        </button>
                        <p class="setting-desc">Download logs as plain text file</p>
                    </div>
                    <div class="setting-item">
                        <button class="setting-btn" id="export-json">
                            <i data-lucide="file-json" class="setting-icon"></i>
                            <span>Export as JSON</span>
                        </button>
                        <p class="setting-desc">Download logs as JSON data</p>
                    </div>
                </div>

                <div class="tab-content hidden" id="appearance-tab">
                    <div class="setting-item">
                        <button class="setting-btn" id="toggle-theme">
                            <i data-lucide="sun" class="setting-icon"></i>
                            <span id="theme-text">Light Mode</span>
                        </button>
                        <p class="setting-desc">Switch between light and dark themes</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        const week_logs = document.querySelectorAll(".week-logs");
        const modal = document.getElementById("weekly-modal");
        const modal_title = document.getElementById("modal-title");
        const modal_content = document.getElementById("modal-content");
        const close_modal = document.getElementById("close-modal");
        const search_input = document.getElementById("search-input");
        const sort_date_btn = document.getElementById("sort-date");
        const export_btn = document.getElementById("export-txt");
        const export_json_btn = document.getElementById("export-json");
        const toggle_theme_btn = document.getElementById("toggle-theme");
        const tab_btns = document.querySelectorAll(".tab-btn");
        const tab_contents = document.querySelectorAll(".tab-content");
        const prev_log_btn = document.getElementById("prev-log");
        const next_log_btn = document.getElementById("next-log");
        const settings_btn = document.getElementById("settings-btn");
        const settings_modal = document.getElementById("settings-modal");
        const close_settings = document.getElementById("close-settings");
        const category_btns = document.querySelectorAll(".category-btn");

        // Category filtering
        category_btns.forEach(btn => {
            btn.addEventListener("click", () => {
                const category = btn.dataset.category;
                category_btns.forEach(b => b.classList.remove("active"));
                btn.classList.add("active");

                week_logs.forEach(log => {
                    if (category === "all") {
                        log.style.display = "block";
                    } else {
                        log.classList.contains(`category-${category}`) ? log.style.display = "block" : log.style.display = "none";
                    }
                });
            });
        });

        let current_log_index = -1;
        let is_light_mode = false;

        // Modal functionality
        week_logs.forEach((log, index) => {
            log.addEventListener("click", () => {
                current_log_index = index;
                show_log_in_modal(index);
            });
        });

        function show_log_in_modal(index) {
            const log = week_logs[index];
            const title = log.querySelector(".week-title").textContent;
            const full_text = log.dataset.full || log.querySelector(".week-text").textContent;

            modal_title.textContent = `# ${title}`;
            modal_content.textContent = full_text;
            modal.style.display = "flex";

            update_nav_buttons();
        }

        function update_nav_buttons() {
            prev_log_btn.disabled = current_log_index <= 0;
            next_log_btn.disabled = current_log_index >= week_logs.length - 1;
        }

        close_modal.addEventListener("click", () => modal.style.display = "none");

        modal.addEventListener("click", (e) => {
            if (e.target === modal) {
                modal.style.display = "none";
            }
        });

        // Settings modal
        settings_btn.addEventListener("click", () => {
            settings_modal.style.display = "flex";
        });

        close_settings.addEventListener("click", () => {
            settings_modal.style.display = "none";
        });

        settings_modal.addEventListener("click", (e) => {
            if (e.target === settings_modal) {
                settings_modal.style.display = "none";
            }
        });

        // Tab switching
        tab_btns.forEach(btn => {
            btn.addEventListener("click", () => {
                tab_btns.forEach(b => b.classList.remove("active"));
                tab_contents.forEach(c => c.classList.add("hidden"));
                btn.classList.add("active");
                document.getElementById(btn.dataset.tab + "-tab").classList.remove("hidden");
            });
        });

        // Keyboard shortcuts
        document.addEventListener("keydown", (e) => {
            if (modal.style.display === "flex") {
                if (e.key === "Escape") {
                    modal.style.display = "none";
                } else if (e.key === "ArrowLeft" && !prev_log_btn.disabled) {
                    current_log_index--;
                    show_log_in_modal(current_log_index);
                } else if (e.key === "ArrowRight" && !next_log_btn.disabled) {
                    current_log_index++;
                    show_log_in_modal(current_log_index);
                }
            }
        });

        // Navigation buttons
        prev_log_btn.addEventListener("click", () => {
            if (current_log_index > 0) {
                current_log_index--;
                show_log_in_modal(current_log_index);
            }
        });

        next_log_btn.addEventListener("click", () => {
            if (current_log_index < week_logs.length - 1) {
                current_log_index++;
                show_log_in_modal(current_log_index);
            }
        });

        // Search functionality
        search_input.addEventListener("input", () => {
            const query = search_input.value.toLowerCase();
            week_logs.forEach(log => {
                const title = log.querySelector(".week-title").textContent.toLowerCase();
                const text = log.querySelector(".week-text").textContent.toLowerCase();
                const visible = title.includes(query) || text.includes(query);
                log.style.display = visible ? "block" : "none";
            });
        });

        // Sort by date
        sort_date_btn.addEventListener("click", () => {
            const content = document.querySelector(".content");
            const logs_array = Array.from(week_logs);

            logs_array.sort((a, b) => {
                const date_a = new Date(a.querySelector(".week-date").textContent.split('/').reverse().join('-'));
                const date_b = new Date(b.querySelector(".week-date").textContent.split('/').reverse().join('-'));
                return date_b - date_a; // Newest first
            });

            logs_array.forEach(log => content.appendChild(log));
        });

        // Export logs
        export_btn.addEventListener("click", () => {
            let export_text = "# Weekly Logs Export\n\n";
            week_logs.forEach(log => {
                const title = log.querySelector(".week-title").textContent;
                const date = log.querySelector(".week-date").textContent;
                const text = log.dataset.full || log.querySelector(".week-text").textContent;
                export_text += `${title} (${date})\n${text}\n\n---\n\n`;
            });

            const blob = new Blob([export_text], { type: "text/plain" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "weekly-logs.txt";
            a.click();
            URL.revokeObjectURL(url);
        });

        // Export as JSON
        export_json_btn.addEventListener("click", () => {
            const logs_data = Array.from(week_logs).map(log => ({
                title: log.querySelector(".week-title").textContent,
                date: log.querySelector(".week-date").textContent,
                content: log.dataset.full || log.querySelector(".week-text").textContent
            }));

            const json = JSON.stringify(logs_data, null, 2);
            const blob = new Blob([json], { type: "application/json" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "weekly-logs.json";
            a.click();
            URL.revokeObjectURL(url);
        });

        // Toggle theme
        toggle_theme_btn.addEventListener("click", () => {
            is_light_mode = !is_light_mode;
            document.documentElement.classList.toggle("light-mode", is_light_mode);
            document.getElementById("theme-text").textContent = is_light_mode ? "Dark Mode" : "Light Mode";
            const icon = toggle_theme_btn.querySelector("i");
            icon.setAttribute("data-lucide", is_light_mode ? "moon" : "sun");
            lucide.createIcons();
        });

        // Initialize icons
        lucide.createIcons();
    </script>
</body>

</html>
